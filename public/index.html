<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>AvstÃ¥ndsgissning â€“ Editor</title>
        <link rel="stylesheet" href="paper.css">
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body class="A4">

        <!-- â”€â”€ Editor Panel (hidden when printing) â”€â”€ -->
        <div class="editor-panel">
            <h2>Kortredigerare</h2>

            <fieldset>
                <legend>Globala instÃ¤llningar</legend>
                <label for="cord-length">SnÃ¶re (mm)</label>
                <input type="number" id="cord-length" min="1" step="10">

                <label for="distances">AvstÃ¥nd (m, komma-sep.)</label>
                <input type="text" id="distances" placeholder="100, 200, 300, â€¦">
            </fieldset>

            <fieldset>
                <legend>Objekt</legend>
                <label for="thing-select">VÃ¤lj objekt</label>
                <select id="thing-select"></select>

                <label for="thing-name">Namn</label>
                <input type="text" id="thing-name">

                <label for="thing-height">HÃ¶jd (m)</label>
                <input type="number" id="thing-height" min="0" step="0.01">

                <label for="thing-width">Bredd (m)</label>
                <input type="number" id="thing-width" min="0" step="0.01">

                <label for="thing-milDiameter">Diameter (mils)</label>
                <input type="number" id="thing-milDiameter" min="0.001" step="0.001">

                <label for="thing-moaDiameter">Diameter (MOA)</label>
                <input type="number" id="thing-moaDiameter" min="0.001" step="0.001">

                <label for="thing-offsetX">Offset X (mm)</label>
                <input type="number" id="thing-offsetX" step="0.5">

                <label for="thing-offsetY">Offset Y (mm)</label>
                <input type="number" id="thing-offsetY" step="0.5">

                <label for="thing-image">Bild</label>
                <input type="file" id="thing-image" accept="image/*">
                <button id="clear-image-btn" class="btn btn-small">Rensa bild</button>

                <div class="btn-row">
                    <button id="add-thing-btn" class="btn">ï¼‹ Objekt</button>
                    <button id="add-circle-btn" class="btn">âŠ• Cirkel</button>
                    <button id="delete-thing-btn" class="btn btn-danger">âœ• Ta bort</button>
                </div>
            </fieldset>

            <fieldset>
                <legend>Historik</legend>
                <div class="btn-row">
                    <button id="undo-btn" class="btn" disabled>â†© Ã…ngra</button>
                    <button id="redo-btn" class="btn" disabled>â†ª GÃ¶r om</button>
                </div>
            </fieldset>

            <fieldset>
                <legend>Spara / Ladda</legend>
                <div class="btn-row">
                    <button id="save-btn" class="btn">ðŸ’¾ Spara</button>
                    <button id="load-btn" class="btn">ðŸ“‚ Ladda</button>
                </div>
                <div class="btn-row">
                    <button id="export-btn" class="btn">â¬‡ Exportera JSON</button>
                </div>
                <label for="import-file" class="btn btn-file">â¬† Importera JSON
                    <input type="file" id="import-file" accept=".json" hidden>
                </label>
                <button id="reset-btn" class="btn btn-danger btn-small">Ã…terstÃ¤ll standard</button>
            </fieldset>

            <fieldset>
                <legend>Utskrift</legend>
                <button id="print-mode-btn" class="btn" style="width:100%">ðŸ–¨ FÃ¶rhandsgranska A4</button>
            </fieldset>
        </div>

        <!-- â”€â”€ Print Mode Bar (visible only in print mode) â”€â”€ -->
        <div class="print-mode-bar">
            <span>FÃ¶rhandsgranskning â€“ exakta A4-mÃ¥tt</span>
            <button id="print-now-btn">ðŸ–¨ Skriv ut</button>
            <button id="exit-print-mode-btn">âœ• Tillbaka till redigering</button>
        </div>

        <!-- â”€â”€ Print Area â”€â”€ -->
        <div class="print-note">
            <strong>OBS!</strong> Skriv ut med <strong>100% skalning</strong> (ej "Anpassa till sida") och kryssa i <strong>"Skriv ut bakgrundsbilder"</strong>.<br>
            Rutorna pÃ¥ hÃ¶ger sida = 1Ã—1 cm (ytterkant). MÃ¤t dem fÃ¶r att verifiera korrekt skalning.
        </div>
        <section class="sheet padding-10mm">
            <!-- Cards are generated dynamically by draw.js -->
        </section>

        <script src="draw.js"></script>
    </body>
</html>